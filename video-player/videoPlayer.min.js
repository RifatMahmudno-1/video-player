window.onload=function(){document.querySelectorAll(".video-player").forEach(function(e){let n="",t="",i="";e.src&&(n+=`src="${e.src}"`),e.autoplay&&(n+="autostart"),e.preload&&(n+=`preload="${e.preload}"`),e.loop&&(n+=`autoloop="${e.loop}"`),window.chrome&&(t='<div class="vid-PiP"><img src="./video-player/PIP.svg"></div>',i="pps"),e.outerHTML=`<div class="vid-con"><video class="video-player" ${n} tabindex="0"></video><div class="vid-el1"><img src="./video-player/pause.svg"></div><div class="vid-el2 ${i}"><div>00:00</div><div class="timeLine"><input type="range" min="0" max='200' value="0"><canvas class="vid-loaded"></canvas></div><div>00:00</div><div class="vol"><img src="./video-player/vol3.svg" alt="Vol"><input type="range" min="0" max="100" step="10" value="100"></div><div class="vid-FullScR"><img src="./video-player/fullscreen.svg"></div>${t}</div></div>`});let e=document.querySelectorAll(".vid-con .video-player"),n=document.querySelectorAll(".vid-con .vid-el1"),t=document.querySelectorAll(".vid-con .vid-el2"),i=document.querySelectorAll(".vid-con .vid-el2 .timeLine input"),l=document.querySelectorAll(".vid-con .vid-el2 .vol input"),o=document.querySelectorAll(".vid-con .vid-el2 .vol img"),d=document.querySelectorAll(".vid-con img"),r=document.querySelectorAll('.vid-con .video-player[autoloop="true"]'),c=document.querySelectorAll(".vid-con .vid-el2 .vid-FullScR"),a=document.querySelectorAll(".vid-con .vid-el2 .vid-PiP");function u(e){e.paused?e.play():e.pause()}function s(e,n,t){function i(){let t,i=e.currentTime,l=(i/60).toString().split("."),o=Math.round(60*parseFloat("0."+l[1]));1===l[0].length&&(l[0]=0+l[0]),o>=0&&o<10&&(o="0"+o),t=0===parseInt(l[0])?`00:${o}`:`${l[0]}:${o}`,e.nextSibling.nextSibling.childNodes[1].childNodes[0].value=Math.round(i),n.textContent=t}if("now"===t)i();else{let n=setInterval(()=>{i()},1e3);e.addEventListener("pause",function(){clearInterval(n)}),e.addEventListener("ended",function(){clearInterval(n)})}}function v(e,n){e<.1?n.src="./video-player/vol0.svg":e>=.1&&e<=.3?n.src="./video-player/vol1.svg":e>=.4&&e<=.6?n.src="./video-player/vol2.svg":e>=.7&&e<=1&&(n.src="./video-player/vol3.svg")}e.forEach(function(e){e.addEventListener("click",function(){u(e)}),e.addEventListener("keydown",function(n){!function(e,n){39===n.keyCode&&(e.currentTime+=5,s(e,e.nextSibling.nextSibling.childNodes[0],"now"));37===n.keyCode&&(e.currentTime-=5,s(e,e.nextSibling.nextSibling.childNodes[0],"now"));38===n.keyCode&&e.volume<1&&(e.volume+=.1,v(e.volume,e.nextSibling.nextSibling.childNodes[3].childNodes[0]),e.nextSibling.nextSibling.childNodes[3].childNodes[1].value+=10);40===n.keyCode&&e.volume>.1&&(e.volume-=.1,v(e.volume,e.nextSibling.nextSibling.childNodes[3].childNodes[0]),e.nextSibling.nextSibling.childNodes[3].childNodes[1].value-=10)}(e,n)}),e.addEventListener("keypress",function(n){!function(e,n){102!==n.keyCode&&53!==n.keyCode||(document.fullscreenElement!==e.parentNode?e.parentNode.requestFullscreen():document.fullscreenElement&&document.exitFullscreen());32===n.keyCode&&u(e)}(e,n)}),e.getAttributeNames().includes("autostart")&&(console.log("me"),e.click()),function n(){isNaN(e.duration)?setTimeout(()=>{n()},1e3):function(e){let n,t=e.duration,i=(t/60).toString().split("."),l=Math.round(60*parseFloat("0."+i[1]));1===i[0].length&&(i[0]=0+i[0]),l>=0&&l<10&&(l="0"+l),n=0===parseInt(i[0])?`00:${l}`:`${i[0]}:${l}`;let o=e.parentNode.childNodes[2].childNodes[1].childNodes[0];o.setAttribute("max",Math.round(t)),o.parentNode.nextSibling.textContent=n}(e)}(),function(e){let n=e.nextSibling.nextSibling.childNodes[1].childNodes[1];e.addEventListener("progress",()=>{!function(e,n,t){var i=e.getContext("2d",{antialias:!1});i.fillStyle="aqua";var l=e.width,o=e.height;i.clearRect(0,0,l,o);for(var d=0;d<n.length;d++){var r=n.start(d)/t*l,c=n.end(d)/t*l;i.fillRect(r,0,c-r,o)}}(n,e.buffered,e.duration)},!1)}(e),e.onplay=(()=>{e.nextSibling.style="display:none;",s(e,e.nextSibling.nextSibling.childNodes[0])}),e.onpause=(()=>{e.nextSibling.style="display:block;"})}),n.forEach(function(e){e.addEventListener("click",()=>{e.previousSibling.click(),e.previousSibling.focus()})}),i.forEach(function(e){e.addEventListener("input",function(){let n=e.parentNode.parentNode.parentNode.childNodes[0];n.currentTime=e.value,s(n,e.parentNode.previousSibling,"now")})}),l.forEach(function(e){e.addEventListener("input",function(){let n=e.value/100;e.parentNode.parentNode.parentNode.childNodes[0].volume=n,v(n,e.previousSibling)})}),o.forEach(function(e){e.addEventListener("click",function(){let n=e.parentNode.parentNode.parentNode.childNodes[0];n.muted?(n.muted=!1,e.nextSibling.value=100,e.src="./video-player/vol3.svg"):(n.muted=!0,e.nextSibling.value=0,e.src="./video-player/vol0.svg")})}),t.forEach(function(e){let n=e.parentNode;e.style="transform: translateY(200%);",n.onmouseleave=(()=>{e.style="transform: translateY(200%);transition-delay: 2s;"}),n.onmouseover=(()=>{e.style="transform: translateY(0%);"})}),d.forEach(function(e){e.setAttribute("draggable",!1)}),r.forEach(function(e){e.addEventListener("ended",function(){u(e)})}),c.forEach(function(e){e.addEventListener("click",function(){let n=e.parentNode.parentNode;document.fullscreenElement!==n?n.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()})}),a.forEach(function(e){e.addEventListener("click",function(){document.pictureInPictureElement?document.exitPictureInPicture():e.parentNode.previousSibling.previousSibling.requestPictureInPicture()})})};