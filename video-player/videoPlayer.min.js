!function(){let e=(n=(n=document.currentScript.src).split("/")).slice(0,n.length-1).join("/")+"/svg";var n;window.onload=function(){document.querySelectorAll(".video-player").forEach(function(n){let t="",i="",o="";n.src&&(t+=`src="${n.src}"`),n.autoplay&&(t+=`autoplay="${n.autoplay}"`),n.preload&&(t+=`preload="${n.preload}"`),n.loop&&(t+=`loop="${n.loop}"`),window.chrome&&(i=`<div class="vid-PiP"><img src="${e}/PIP.svg"></div>`,o="pps"),n.outerHTML=`<div class="vid-con"><video class="video-player" ${t} tabindex="0"></video><div class="vid-el1"><img src="${e}/pause.svg"></div><div class="vid-el2 ${o}"><div>00:00</div><div class="timeLine"><input type="range" min="0" max='0' value="0"><canvas class="vid-loaded"></canvas></div><div>00:00</div><div class="vol"><img src="${e}/vol3.svg" alt="Vol"><input type="range" min="0" max="100" step="10" value="100"></div><div class="vid-FullScR"><img src="${e}/fullscreen.svg"></div>${i}</div></div>`});let n=document.querySelectorAll(".vid-con .video-player"),t=document.querySelectorAll(".vid-con .vid-el1"),i=document.querySelectorAll(".vid-con .vid-el2"),o=document.querySelectorAll(".vid-con .vid-el2 .timeLine input"),l=document.querySelectorAll(".vid-con .vid-el2 .vol input"),d=document.querySelectorAll(".vid-con .vid-el2 .vol img"),c=document.querySelectorAll(".vid-con img"),r=document.querySelectorAll(".vid-con .vid-el2 .vid-FullScR"),s=document.querySelectorAll(".vid-con .vid-el2 .vid-PiP");function a(e){e.paused?e.play():e.pause()}function u(n,t,i){function o(){let e,i=n.currentTime,o=(i/60).toString().split("."),l=Math.round(60*parseFloat("0."+o[1]));1===o[0].length&&(o[0]=0+o[0]),l>=0&&l<10&&(l="0"+l),e=0===parseInt(o[0])?`00:${l}`:`${o[0]}:${l}`,n.nextSibling.nextSibling.childNodes[1].childNodes[0].value=Math.round(i),t.textContent=e}if("now"===i)o();else{let t=setInterval(()=>{o()},1e3);n.addEventListener("pause",function(){clearInterval(t)}),n.addEventListener("ended",function(){n.nextSibling.childNodes[0].src=`${e}/replay.svg`,clearInterval(t)})}}function v(n,t){n<.1?t.src=`${e}/vol0.svg`:n>=.1&&n<=.3?t.src=`${e}/vol1.svg`:n>=.4&&n<=.6?t.src=`${e}/vol2.svg`:n>=.7&&n<=1&&(t.src=`${e}/vol3.svg`)}function f(e){document.fullscreenElement!==e?e.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()}function p(e){let n=0;!function e(t){n++;n<=30?isNaN(t.duration)?setTimeout(()=>{e(t)},500):(n=0,g(t),function(e){let n,t=e.duration,i=(t/60).toString().split("."),o=Math.round(60*parseFloat("0."+i[1]));1===i[0].length&&(i[0]=0+i[0]),o>=0&&o<10&&(o="0"+o),n=0===parseInt(i[0])?`00:${o}`:`${i[0]}:${o}`;let l=e.parentNode.childNodes[2].childNodes[1].childNodes[0];l.setAttribute("max",Math.round(t)),l.parentNode.nextSibling.textContent=n}(t),function(e){let n=e.nextSibling.nextSibling.childNodes[1].childNodes[1];e.addEventListener("progress",()=>{!function(e,n,t){var i=e.getContext("2d",{antialias:!1});i.fillStyle="#0800ff";var o=e.width,l=e.height;i.clearRect(0,0,o,l);for(var d=0;d<n.length;d++){var c=n.start(d)/t*o,r=n.end(d)/t*o;i.fillRect(c,0,r-c,l)}}(n,e.buffered,e.duration)},!1)}(t)):(n=0,console.log("Video loading time exceeded"))}(e)}function g(e){let n=e.parentNode.offsetHeight,t=e.parentNode.offsetWidth,i=e.offsetHeight,o=e.offsetWidth;n===i&&t===o||(e.style=n<i?"height:100%; width:auto;":"width:100%; height:auto;")}n.forEach(function(n){n.addEventListener("click",function(){a(n)}),n.addEventListener("keydown",function(e){!function(e,n){39===n.keyCode&&(e.currentTime+=5,u(e,e.nextSibling.nextSibling.childNodes[0],"now"),n.preventDefault());37===n.keyCode&&(e.currentTime-=5,u(e,e.nextSibling.nextSibling.childNodes[0],"now"),n.preventDefault());38===n.keyCode&&e.volume<1&&(e.volume+=.1,v(e.volume,e.nextSibling.nextSibling.childNodes[3].childNodes[0]),e.nextSibling.nextSibling.childNodes[3].childNodes[1].value+=10,n.preventDefault());40===n.keyCode&&e.volume>.1&&(e.volume-=.1,v(e.volume,e.nextSibling.nextSibling.childNodes[3].childNodes[0]),e.nextSibling.nextSibling.childNodes[3].childNodes[1].value-=10,n.preventDefault())}(n,e)}),n.addEventListener("keypress",function(e){!function(e,n){102!==n.keyCode&&53!==n.keyCode||f(e.parentNode);32===n.keyCode&&a(e)}(n,e)}),n.addEventListener("dblclick",function(){f(n.parentNode)}),p(n),n.onplay=(()=>{n.nextSibling.childNodes[0].src=`${e}/pause.svg`,n.nextSibling.style="display:none;",u(n,n.nextSibling.nextSibling.childNodes[0])}),n.onpause=(()=>{n.nextSibling.style="display:block;"}),n.addEventListener("DOMAttrModified",e=>{console.log(e)}),function(e){new MutationObserver(function(n){for(const t of n)"src"===t.attributeName&&(p(e),g(e))}).observe(e,{attributes:!0})}(n)}),t.forEach(function(e){e.addEventListener("click",()=>{e.previousSibling.click(),e.previousSibling.focus()})}),o.forEach(function(e){e.addEventListener("input",function(){let n=e.parentNode.parentNode.parentNode.childNodes[0];n.currentTime=e.value,u(n,e.parentNode.previousSibling,"now")})}),l.forEach(function(e){e.addEventListener("input",function(){let n=e.value/100;e.parentNode.parentNode.parentNode.childNodes[0].volume=n,v(n,e.previousSibling)})}),d.forEach(function(n){n.addEventListener("click",function(){let t=n.parentNode.parentNode.parentNode.childNodes[0];t.muted?(t.muted=!1,n.nextSibling.value=100,n.src=`${e}/vol3.svg`):(t.muted=!0,n.nextSibling.value=0,n.src=`${e}/vol0.svg`)})}),i.forEach(function(e){let n=e.parentNode;e.style="transform: translateY(200%);",n.onmouseleave=(()=>{e.style="transform: translateY(200%);transition-delay: 2s;"}),n.onmouseover=(()=>{e.style="transform: translateY(0%);"})}),c.forEach(function(e){e.setAttribute("draggable",!1)}),r.forEach(function(e){e.addEventListener("click",function(){f(e.parentNode.parentNode)})}),s.forEach(function(e){e.addEventListener("click",function(){document.pictureInPictureElement?document.exitPictureInPicture():e.parentNode.previousSibling.previousSibling.requestPictureInPicture()})})}}();
